<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>點餐系統</title>
    <meta charset="utf-8">
    <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0" />
    <meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
    <link rel="stylesheet" type="text/css" href="./css/aui.css" />
    <link rel="stylesheet" href="css/swiper.min.css">
    <link rel="stylesheet" href="css/jquery.countdown.css">
    <link rel="stylesheet" href="css/bootstrap_grid.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/order.css">
</head>

<body style="min-height: 100vh;">
    <!-- 選單 -->
    <header class="aui-bar aui-bar-nav aui-text-left header bar_fixs" id="header">
        <!-- <a href="index.html" class="aui-pull-left aui-btn">
            <span class="aui-iconfont aui-icon-home"></span>
        </a> -->
        <a href="order_detail.html" class="aui-pull-right aui-btn">
            <span class="aui-iconfont aui-icon-cert"></span>
        </a>
    </header>
    <!-- 首圖 -->
    <div class="store_top">
        <h1>那一天義法餐館</h1>
        <span class="store_info">低消$100 不收服務費</span>
    </div>
    <!-- 分類 -->
    <div id="topNav" class="swiper-container aui-tab">
        <div class="swiper-wrapper">
            <div class="swiper-slide aui-tab-item aui-active active" id="cate01"><span>私藏排餐</span></div>
            <div class="swiper-slide aui-tab-item" id="cate02"><span>中午吃早餐</span></div>
            <div class="swiper-slide aui-tab-item" id="cate03"><span>輕食</span></div>
            <div class="swiper-slide aui-tab-item" id="cate04"><span>義大利麵</span></div>
            <div class="swiper-slide aui-tab-item" id="cate05"><span>飲料</span></div>
            <div class="swiper-slide aui-tab-item" id="cate06"><span>精釀啤酒</span></div>
        </div>
    </div>
    <div class="cate-box">
        <!-- 01 -->
        <div class="aui-content shop-list menu_list cate01">
            <div class="aui-row-padded">
                <a href="about_food.html" class="col-xs-6 col-sm-4 col-md-3 menu_item">
                    <div class="menu_item_content">
                        <div class="food_img">
                            <img src="image/food/01.jpg" alt="">
                        </div>
                        <div class="menu_info">
                            <h2>葛瑪蘭黑豚套餐</h2>
                            <p>$ 680</p>
                        </div>
                    </div>
                </a>
                <a href="about_food.html" class="col-xs-6 col-sm-4 col-md-3 menu_item">
                    <div class="menu_item_content">
                        <div class="food_img">
                            <img src="image/food/01-2.jpg" alt="">
                        </div>
                        <div class="menu_info">
                            <h2>葛瑪蘭黑豚套餐</h2>
                            <p>$ 680</p>
                        </div>
                    </div>
                </a>
                <a href="about_food.html" class="col-xs-6 col-sm-4 col-md-3 menu_item">
                    <div class="menu_item_content">
                        <div class="food_img">
                            <img src="image/food/01-3.jpg" alt="">
                        </div>
                        <div class="menu_info">
                            <h2>葛瑪蘭黑豚套餐</h2>
                            <p>$ 680</p>
                        </div>
                    </div>
                </a>
                <a href="about_food.html" class="col-xs-6 col-sm-4 col-md-3 menu_item">
                    <div class="menu_item_content">
                        <div class="food_img">
                            <img src="image/food/01-4.jpg" alt="">
                        </div>
                        <div class="menu_info">
                            <h2>葛瑪蘭黑豚套餐</h2>
                            <p>$ 680</p>
                        </div>
                    </div>
                </a>
            </div>
        </div>
        <!-- 01 -->
        <div class="aui-content shop-list menu_list cate02">
            <div class="row">
                <a href="about_food.html" class="col-xs-6 col-sm-4 col-md-3 menu_item">
                    <div class="menu_item_content">
                        <div class="food_img">
                            <img src="image/food/01-2.jpg" alt="">
                        </div>
                        <div class="menu_info">
                            <h2>葛瑪蘭黑豚套餐</h2>
                            <p>$ 680</p>
                        </div>
                    </div>
                </a>
                <a href="about_food.html" class="col-xs-6 col-sm-4 col-md-3 menu_item">
                    <div class="menu_item_content">
                        <div class="food_img">
                            <img src="image/food/01-3.jpg" alt="">
                        </div>
                        <div class="menu_info">
                            <h2>葛瑪蘭黑豚套餐</h2>
                            <p>$ 680</p>
                        </div>
                    </div>
                </a>
                <a href="about_food.html" class="col-xs-6 col-sm-4 col-md-3 menu_item">
                    <div class="menu_item_content">
                        <div class="food_img">
                            <img src="image/food/01-4.jpg" alt="">
                        </div>
                        <div class="menu_info">
                            <h2>葛瑪蘭黑豚套餐</h2>
                            <p>$ 680</p>
                        </div>
                    </div>
                </a>
            </div>
        </div>
        <!-- 01 -->
        <div class="aui-content shop-list menu_list cate03">
            <div class="aui-row-padded">
                <a href="about_food.html" class="col-xs-6 col-sm-4 col-md-3 menu_item">
                    <div class="menu_item_content">
                        <div class="food_img">
                            <img src="image/food/01.jpg" alt="">
                        </div>
                        <div class="menu_info">
                            <h2>葛瑪蘭黑豚套餐</h2>
                            <p>$ 680</p>
                        </div>
                    </div>
                </a>
                <a href="about_food.html" class="col-xs-6 col-sm-4 col-md-3 menu_item">
                    <div class="menu_item_content">
                        <div class="food_img">
                            <img src="image/food/01-3.jpg" alt="">
                        </div>
                        <div class="menu_info">
                            <h2>葛瑪蘭黑豚套餐</h2>
                            <p>$ 680</p>
                        </div>
                    </div>
                </a>
                <a href="about_food.html" class="col-xs-6 col-sm-4 col-md-3 menu_item">
                    <div class="menu_item_content">
                        <div class="food_img">
                            <img src="image/food/01-4.jpg" alt="">
                        </div>
                        <div class="menu_info">
                            <h2>葛瑪蘭黑豚套餐</h2>
                            <p>$ 680</p>
                        </div>
                    </div>
                </a>
            </div>
        </div>
        <!-- 01 -->
        <div class="aui-content shop-list menu_list cate04">
            <div class="aui-row-padded">
                <a href="about_food.html" class="col-xs-6 col-sm-4 col-md-3 menu_item">
                    <div class="menu_item_content">
                        <div class="food_img">
                            <img src="image/food/01-4.jpg" alt="">
                        </div>
                        <div class="menu_info">
                            <h2>葛瑪蘭黑豚套餐</h2>
                            <p>$ 680</p>
                        </div>
                    </div>
                </a>
            </div>
        </div>
    </div>

    <footer class="aui-bar aui-bar-tab aui-margin-t-15">
        <a href="order_list.html" class="aui-bar-tab-item bg_default aui-text-white" tapmode style="width: auto;">查看點菜單</a>
    </footer>
</body>
<script type="text/javascript" src="./script/swiper.min.js"></script>
<script type="text/javascript" src="./script/jquery-3.2.1.min.js"></script>
<script type="text/javascript" src="./script/script.js"></script>
<script type="text/javascript">
var mySwiper = new Swiper('#topNav', {
    freeMode: true,
    freeModeMomentumRatio: 0.5,
    slidesPerView: 'auto',

});

swiperWidth = mySwiper.container[0].clientWidth
maxTranslate = mySwiper.maxTranslate();
maxWidth = -maxTranslate + swiperWidth / 2

$(".swiper-container").on('touchstart', function(e) {
    e.preventDefault()
})

mySwiper.on('tap', function(swiper, e) {

    e.preventDefault()

    slide = swiper.slides[swiper.clickedIndex]
    slideLeft = slide.offsetLeft
    slideWidth = slide.clientWidth
    slideCenter = slideLeft + slideWidth / 2
    // 被点击slide的中心点

    mySwiper.setWrapperTransition(300)

    if (slideCenter < swiperWidth / 2) {

        mySwiper.setWrapperTranslate(0)

    } else if (slideCenter > maxWidth) {

        mySwiper.setWrapperTranslate(maxTranslate)

    } else {

        nowTlanslate = slideCenter - swiperWidth / 2

        mySwiper.setWrapperTranslate(-nowTlanslate)

    }

    $("#topNav  .active").removeClass('active aui-active')
    $("#topNav .swiper-slide").eq(swiper.clickedIndex).addClass('active aui-active')

})
</script>
<script type="text/javascript">
// $(document).ready(function() {
//     $("#footer").load("footer.html");
// });
// popup
$(document).ready(function() {
    $(".shop-list").hide();
    $(".cate01").show();
    $("#topNav .swiper-slide").click(function() {
        var N = $(this).attr("id").substr(4);
        $(".shop-list").hide();
        $(".cate" + N).show();
    });
    $(".btn-popup").click(function() {
        var N = $(this).attr("id");
        $("." + N).slideToggle();
        $(".popup-cover").fadeToggle();
    });
    $(".hide-popup").click(function() {
        $(".popup").hide();
        $(".popup-cover").hide();
    });
});

// 選擇器
$(function() {
    $("#type_01 .aui-label").click(function() {
        $("#type_01 .aui-label").removeClass("aui-label-info");
        $(this).addClass("aui-label-info");
        $(this).removeClass("aui-label-default");
    });
});
$(function() {
    $("#type_02 .aui-label").click(function() {
        $("#type_02 .aui-label").removeClass("aui-label-info");
        $(this).addClass("aui-label-info");
        $(this).removeClass("aui-label-default");
    });
});

//加減計算
function checkPositive() {
    let id = event.target.id;
    console.log(id);
    let split = id.split("_");
    let idx = parseInt(split[0]) - 1;
    console.log(idx);
    var x = document.getElementsByName("count[]");
    if (split[1] == "+") {
        x[idx].value = parseInt(x[idx].value) + 1;
    } else if (split[1] == "-") {
        x[idx].value = parseInt(x[idx].value) - 1;
    } else {}
    self.changeTotal();
}
// 顯示剩餘數量
function changeTotal(x) {
    var x = document.getElementsByName("count[]");
    for (let a = 0; a < x.length; a++) {
        if (x[a].value < 0) { x[a].value = 0; }
    }
    var total_count = 0;
    for (let a = 0; a < x.length; a++) {
        let t = parseInt(x[a].value);
        total_count += t;
    }
    console.log(`total = ${total_count}`);
    document.getElementById("show_total").innerHTML = total_count;
}
</script>

</html>